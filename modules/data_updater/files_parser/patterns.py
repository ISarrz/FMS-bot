import re

groups_patterns = {
    "10 класс": [r"^(\s{0,}10\s{0,})(кл|класс){0,}\W{0,}$"],
    "11 класс": [r"^(\s{0,}11\s{0,})(кл|класс){0,}\W{0,}$"],
    "Α": [r"^(\s{0,}(10|11)\s{0,})?(Α|A|А)\s{0,}$"],
    "Β": [r"^(\s{0,}(10|11)\s{0,})?(Β|В|B)\s{0,}$"],
    "Γ": [r"^(\s{0,}(10|11)\s{0,})?(Γ|Г)\s{0,}$"],
    "Δ": [r"^(\s{0,}(10|11)\s{0,})?(Δ)\s{0,}$"],
    "Ε": [r"^(\s{0,}(10|11)\s{0,})?(Ε|Е|E)\s{0,}$"],
    "Ζ": [r"^(\s{0,}(10|11)\s{0,})?(Ζ|Z)\s{0,}$"],
    "Η": [r"^(\s{0,}(10|11)\s{0,})?(Η|Н|H)\s{0,}$"],
    "Θ": [r"^(\s{0,}(10|11)\s{0,})?(Θ)\s{0,}$"],
    "Ι": [r"^(\s{0,}(10|11)\s{0,})?(Ι|I)\s{0,}$"],
    "Κ": [r"^(\s{0,}(10|11)\s{0,})?(Κ|К|K)\s{0,}$"],
    "Λ": [r"^(\s{0,}(10|11)\s{0,})?(Λ)\s{0,}$"],
    "Μ": [r"^(\s{0,}(10|11)\s{0,})?(Μ|М|M)\s{0,}$"],
    "Ν": [r"^(\s{0,}(10|11)\s{0,})?(Ν|N)\s{0,}$"],
    "Ξ": [r"^(\s{0,}(10|11)\s{0,})?(Ξ)\s{0,}$"],
    "Ο": [r"^(\s{0,}(10|11)\s{0,})?(Ο|О|O)\s{0,}$"],
    "Π": [r"^(\s{0,}(10|11)\s{0,})?(Π|П)\s{0,}$"],
    "Ρ": [r"^(\s{0,}(10|11)\s{0,})?(Ρ|Р|P)\s{0,}$"],
    "Σ": [r"^(\s{0,}(10|11)\s{0,})?(Σ)\s{0,}$"],
    "Τ": [r"^(\s{0,}(10|11)\s{0,})?(Τ|Т|T)\s{0,}$"],
    "Υ": [r"^(\s{0,}(10|11)\s{0,})?(Υ|У|Y)\s{0,}$"],
    "Φ": [r"^(\s{0,}(10|11)\s{0,})?(Φ|Ф)\s{0,}$"],
    "Χ": [r"^(\s{0,}(10|11)\s{0,})?(Χ|Х|X)\s{0,}$"],
    "Ψ": [r"^(\s{0,}(10|11)\s{0,})?(Ψ)\s{0,}$"],
    "Ω": [r"^(\s{0,}(10|11)\s{0,})?(Ω)\s{0,}$"],
    "1 группа": [r"^\s{0,}1\W{0,}(гр|группа)\W{0,}$"],
    "2 группа": [r"^\s{0,}2\W{0,}(гр|группа)\W{0,}$"],
    "3 группа": [r"^\s{0,}3\W{0,}(гр|группа)\W{0,}$"],
    "4 группа": [r"^\s{0,}4\W{0,}(гр|группа)\W{0,}$"],
    "5 группа": [r"^\s{0,}5\W{0,}(гр|группа)\W{0,}$"],
    "6 группа": [r"^\s{0,}6\W{0,}(гр|группа)\W{0,}$"],
    "7 группа": [r"^\s{0,}7\W{0,}(гр|группа)\W{0,}$"],
    "8 группа": [r"^\s{0,}8\W{0,}(гр|группа)\W{0,}$"],
    "9 группа": [r"^\s{0,}9\W{0,}(гр|группа)\W{0,}$"],
    "10 группа": [r"^\s{0,}10\W{0,}(гр|группа)\W{0,}$"],
    "11 группа": [r"^\s{0,}11\W{0,}(гр|группа)\W{0,}$"],
    "12 группа": [r"^\s{0,}12\W{0,}(гр|группа)\W{0,}$"],
    "13 группа": [r"^\s{0,}13\W{0,}(гр|группа)\W{0,}$"],
    "14 группа": [r"^\s{0,}14\W{0,}(гр|группа)\W{0,}$"],
    "15 группа": [r"^\s{0,}15\W{0,}(гр|группа)\W{0,}$"],
    "16 группа": [r"^\s{0,}16\W{0,}(гр|группа)\W{0,}$"],
    "17 группа": [r"^\s{0,}17\W{0,}(гр|группа)\W{0,}$"],
    "18 группа": [r"^\s{0,}18\W{0,}(гр|группа)\W{0,}$"],
    "19 группа": [r"^\s{0,}19\W{0,}(гр|группа)\W{0,}$"],
    "20 группа": [r"^\s{0,}20\W{0,}(гр|группа)\W{0,}$"],
    "Группа А": [r"^\s{0,}(гр|группа)\W{0,}(А|A)\s{0,}$"],
    "Группа Б": [r"^\s{0,}(гр|группа)\W{0,}(Б)\s{0,}$"],
    "Физмат А": [r"^\s{0,}(гр|группа)\W{0,}(Физмат.{0,}А)\s{0,}$"],
    "Физмат Б": [r"^\s{0,}(гр|группа)\W{0,}(Физмат.{0,}Б)\s{0,}$"],
    "IT А": [r"^\s{0,}(гр|группа)\W{0,}(IT.{0,}А)\s{0,}$"],
    "IT Б": [r"^\s{0,}(гр|группа)\W{0,}(IT.{0,}Б)\s{0,}$"],
    "main": [r"^main$"],
    "IT": [r"^\s{0,}(гр|группа){0,}\W{0,}(IT.{0,})\s{0,}$"],
    "Физмат": [r"^\s{0,}(гр|группа){0,}\W{0,}(Физмат.{0,})\s{0,}$"]
}

events_name_patterns = {
    "Математика": ["математика", "матем[.]"],
    "Физика": ["физика"],
    "Информатика": [r"^\s*информатика", r"^\s*информ"],
    "Русский язык": ["русский язык"],
    "История": ["история"],
    "Консультация по математике": ["консультация по математике", r"конс.*по.*матем", "консультация матем",
                                   "консультация по матем"],
    "Консультация по информатике": ["консультация по информатике", r"конс.*по.*информ"],
    "Консультация": ["консультация", "конс-я"],
    "Консультация по физике": ["консультация по физике", r"конс.*по.*физик"],
    "Геометрия": ["геометрия", "геометория"],
    "Английский язык": ["англ.{0,10}яз"],
    "Литература": ["литература", "лит-ра"],
    "Экспериментальная физика": ["эксперимент.*физика"],
    "Обществознание": ["обществознание"],
    "Алгебра": ["алгебра"],
    "Биология": ["биология"],
    "Химия": ["химия"],
    "Физкультура": ["физкультура"],
    "Классный час": ["классный час"],
    "Зачёт по физике": ["зачет по физике", "зачёт по физике"],
    "Спецкурсы": ["спецкурсы"],
    "Контрольный срез по информатике": ["контрольный срез по информатике"],
    "Контрольный срез по физике": ["контрольный срез по физике"],
    "Контрольный срез по математике": ["контрольный срез по математике"],
    "Ассамблея": ["ассамблея"],

}

events_owner_patterns = {
    "Рощина Г.А.": ["Рощина Г.А."],
    "Стеганцов К.И.": ["Стеганцов К.И."],
    "Таскина Т.Ю.": ["Таскина Т.Ю."],
    "Минденко С.А.": ["Минденко С.А."],
    "Журавель Т.Н": ["Журавель Т.Н"],
    "Рубанова А.М.": ["Рубанова А.М."],
    "Макиенко А.О.": ["Макиенко А.О."],
    "Смолина Ю.А": ["Смолина Ю.А"],
    "Волошинская Е.Л.": ["Волошинская Е.Л."],
    "Голубев Р.А.": ["Голубев Р.А."],
    "Рубан А.А.": ["Рубан А.А."],
    "Фельбрина С.В.": ["Фельбрина С.В."],
    "Кругликов А.А.": ["Кругликов А.А."],
    "Шипилова О.Г.": ["Шипилова О.Г."],
    "Кононова В.А.": ["Кононова В.А."],
    "Гагарина С.И.": ["Гагарина С.И."],
    "Матвеева И.В.": ["Матвеева И.В."],
    "Винк О.В.": ["Винк О.В."],
    "Емельянова О.Н.": ["Емельянова О.Н."],
    "Кочерова Т.В.": ["Кочерова Т.В."],
    "Чечиков Я.В.": ["Чечиков Я.В."],
    "Шерстобитова Т.М.": ["Шерстобитова Т.М."],
    "Лозовский Д.С.": ["Лозовский Д.С."],
    "Шефер Ю.Л.": ["Шефер Ю.Л."],
    "Баранова С.В.": ["Баранова С.В."],
    "Непомнящих С.И.": ["Непомнящих С.И."],
    "Курагин М.М.": ["Курагин М.М."],
    "Воробьева А.Ю.": ["Воробьева А.Ю."],
    "Чиганов А.С.": ["Чиганов А.С."],
    "Шапошников А.А.": ["Шапошников А.А."],
    "Малышева Ж.О.": ["Малышева Ж.О."],
    "Жданович В.В.": ["Жданович В.В."],
    "Сизаско В.": ["Сизаско В."],
    "Подольский Н.Н.": ["Подольский Н.Н."],
    "Косинцева А.А.": ["Косинцева А.А."],
    "Дрожжин Н.А.": ["Дрожжин Н.А."],
    "Шляхтич Е.Н.": ["Шляхтич Е.Н."],
    "Зотова М.В.": ["Зотова М.В."],
    "Карнаухов К.А.": ["Карнаухов К.А."],
    "Шляхтич М.А.": ["Шляхтич М.А."],
    "Казак Е.С.": ["Казак Е.С."],
    "Михайличенко С.А.": ["Михайличенко С.А."],
    "Зотов И.Н.": ["Зотов И.Н."],
    "Агапченко В.А.": ["Агапченко В.А."],
    "Черепанова О.Н.": ["Черепанова О.Н."],
    "Шашкина М.Б.": ["Шашкина М.Б."],
    "Кнауб Л.В.": ["Кнауб Л.В."],
    "Шевелева И.В.": ["Шевелева И.В."],
    "Мышкина Е.К.": ["Мышкина Е.К."],
    "Зубров И.Е.": ["Зубров И.Е."],
    "Шефер И.А.": ["Шефер И.А."],
    "Дураков Б.Е.": ["Дураков Б.Е."],
    "Чиганова А.С.": ["Чиганова А.С."],
    "Горбунова К.Д.": ["Горбунова К.Д."],
    "Лоншакова-Мукина В.И.": ["Лоншакова-Мукина В.И."],
    "Ким Л.А.": ["Ким Л.А."],
    "Шаипова Т.Б.": ["Шаипова Т.Б."],
    "Тумашева О.В.": ["Тумашева О.В."],
    "Быковских А.М.": ["Быковских А.М."],
    "Сытенко Р.Г.": ["Сытенко Р.Г."],
    "Крупитченко Н.М.": ["Крупитченко Н.М."],

}

events_place_patterns = {
    "1-00": [r"1-00"],
    "1-01": [r"1-01"],
    "1-02": [r"1-02"],
    "1-03": [r"1-03"],
    "1-04": [r"1-04"],
    "1-05": [r"1-05"],
    "1-06": [r"1-06"],
    "1-07": [r"1-07"],
    "1-08": [r"1-08"],
    "1-09": [r"1-09"],
    "1-10": [r"1-10"],
    "1-11": [r"1-11"],
    "1-12": [r"1-12"],
    "1-13": [r"1-13"],
    "1-14": [r"1-14"],
    "1-15": [r"1-15"],
    "1-16": [r"1-16"],
    "1-17": [r"1-17"],
    "1-18": [r"1-18"],
    "1-19": [r"1-19"],
    "1-20": [r"1-20"],
    "1-21": [r"1-21"],
    "1-22": [r"1-22"],
    "1-23": [r"1-23"],
    "1-24": [r"1-24"],
    "1-25": [r"1-25"],
    "1-26": [r"1-26"],
    "1-27": [r"1-27"],
    "1-28": [r"1-28"],
    "1-29": [r"1-29"],
    "1-30": [r"1-30"],
    "2-00": [r"2-00"],
    "2-01": [r"2-01"],
    "2-02": [r"2-02"],
    "2-03": [r"2-03"],
    "2-04": [r"2-04"],
    "2-05": [r"2-05"],
    "2-06": [r"2-06"],
    "2-07": [r"2-07"],
    "2-08": [r"2-08"],
    "2-09": [r"2-09"],
    "2-10": [r"2-10"],
    "2-11": [r"2-11"],
    "2-12": [r"2-12"],
    "2-13": [r"2-13"],
    "2-14": [r"2-14"],
    "2-15": [r"2-15"],
    "2-16": [r"2-16"],
    "2-17": [r"2-17"],
    "2-18": [r"2-18"],
    "2-19": [r"2-19"],
    "2-20": [r"2-20"],
    "2-21": [r"2-21"],
    "2-22": [r"2-22"],
    "2-23": [r"2-23"],
    "2-24": [r"2-24"],
    "2-25": [r"2-25"],
    "2-26": [r"2-26"],
    "2-27": [r"2-27"],
    "2-28": [r"2-28"],
    "2-29": [r"2-29"],
    "2-30": [r"2-30"],
    "3-00": [r"3-00"],
    "3-01": [r"3-01"],
    "3-02": [r"3-02"],
    "3-03": [r"3-03"],
    "3-04": [r"3-04"],
    "3-05": [r"3-05"],
    "3-06": [r"3-06"],
    "3-07": [r"3-07"],
    "3-08": [r"3-08"],
    "3-09": [r"3-09"],
    "3-10": [r"3-10"],
    "3-11": [r"3-11"],
    "3-12": [r"3-12"],
    "3-13": [r"3-13"],
    "3-14": [r"3-14"],
    "3-15": [r"3-15"],
    "3-16": [r"3-16"],
    "3-17": [r"3-17"],
    "3-18": [r"3-18"],
    "3-19": [r"3-19"],
    "3-20": [r"3-20"],
    "3-21": [r"3-21"],
    "3-22": [r"3-22"],
    "3-23": [r"3-23"],
    "3-24": [r"3-24"],
    "3-25": [r"3-25"],
    "3-26": [r"3-26"],
    "3-27": [r"3-27"],
    "3-28": [r"3-28"],
    "3-29": [r"3-29"],
    "3-30": [r"3-30"],
    "4-00": [r"4-00"],
    "4-01": [r"4-01"],
    "4-02": [r"4-02"],
    "4-03": [r"4-03"],
    "4-04": [r"4-04"],
    "4-05": [r"4-05"],
    "4-06": [r"4-06"],
    "4-07": [r"4-07"],
    "4-08": [r"4-08"],
    "4-09": [r"4-09"],
    "4-10": [r"4-10"],
    "4-11": [r"4-11"],
    "4-12": [r"4-12"],
    "4-13": [r"4-13"],
    "4-14": [r"4-14"],
    "4-15": [r"4-15"],
    "4-16": [r"4-16"],
    "4-17": [r"4-17"],
    "4-18": [r"4-18"],
    "4-19": [r"4-19"],
    "4-20": [r"4-20"],
    "4-21": [r"4-21"],
    "4-22": [r"4-22"],
    "4-23": [r"4-23"],
    "4-24": [r"4-24"],
    "4-25": [r"4-25"],
    "4-26": [r"4-26"],
    "4-27": [r"4-27"],
    "4-28": [r"4-28"],
    "4-29": [r"4-29"],
    "4-30": [r"4-30"],
    "Спортзал": [r"ауд.{,10}спортзал"],
    "Актовый зал": [r"акт.{,10}зал"],
    "Библиотека": [r"библ"],
}


def find_pattern(text: str, patterns: dict):
    matches = []

    for name, obj_patterns in patterns.items():
        for pattern in obj_patterns:
            if re.search(pattern, text, flags=re.DOTALL | re.IGNORECASE):
                matches.append((name, pattern))

    while matches:
        name, pattern = matches.pop()
        check = True
        for cmpr_name, cmpr_pattern in matches:
            if cmpr_name == name:
                continue

            if re.search(pattern, cmpr_pattern, flags=re.DOTALL | re.IGNORECASE):
                check = False
                break

        if check:
            return name

    return None


def find_all_patterns(text: str, patterns: dict):
    matches = set()

    for name, obj_patterns in patterns.items():
        for pattern in obj_patterns:
            if re.search(pattern, text, flags=re.DOTALL | re.IGNORECASE):
                matches.add(name)

    return list(matches)


if __name__ == "__main__":
    for i in groups_patterns:
        print(i[0])
